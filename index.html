<!-- index.html -->
<form id="auth-form">
  <label>Email:</label>
  <input id="email" type="email" required />
  <label>Senha:</label>
  <input id="password" type="password" required />
  <button type="submit">Obter Token</button>
</form>

<div id="resultado"></div>

<script>
  document.getElementById("auth-form").addEventListener("submit", async function (e) {
    e.preventDefault();

    const email = document.getElementById("email").value;
    const password = document.getElementById("password").value;

    try {
      const response = await fetch("https://cotacao-frete-site.onrender.com", {
        method: "POST",
        headers: { "Content-Type": "application/json" },
        body: JSON.stringify({ email, password }),
      });

      const data = await response.json();

      if (response.ok) {
        document.getElementById("resultado").innerHTML = `<p>Token: ${data.token}</p>`;
      } else {
        document.getElementById("resultado").innerHTML = `<p>Erro: ${data.detail}</p>`;
      }
    } catch (err) {
      document.getElementById("resultado").innerText = "Erro ao conectar ao backend.";
    }
  });
</script>
